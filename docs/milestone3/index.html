<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.56">
<title data-react-helmet="true">Milestone 3 üß™ | BloodConnect</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Milestone 3 üß™ | BloodConnect"><meta data-react-helmet="true" name="description" content="Proposed level of achievement: Artemis."><meta data-react-helmet="true" property="og:description" content="Proposed level of achievement: Artemis."><meta data-react-helmet="true" property="og:url" content="https://bloodwork-nus.github.io/bloodconnect/docs/milestone3"><link data-react-helmet="true" rel="shortcut icon" href="/bloodconnect/img/logo.png"><link data-react-helmet="true" rel="canonical" href="https://bloodwork-nus.github.io/bloodconnect/docs/milestone3"><link rel="stylesheet" href="/bloodconnect/styles.2b7871b1.css">
<link rel="preload" href="/bloodconnect/styles.6448a0d5.js" as="script">
<link rel="preload" href="/bloodconnect/runtime~main.093f618e.js" as="script">
<link rel="preload" href="/bloodconnect/main.08a9c377.js" as="script">
<link rel="preload" href="/bloodconnect/1.1cc098a1.js" as="script">
<link rel="preload" href="/bloodconnect/2.cdfd68ac.js" as="script">
<link rel="preload" href="/bloodconnect/3.cc91e6c0.js" as="script">
<link rel="preload" href="/bloodconnect/1be78505.1e868fb6.js" as="script">
<link rel="preload" href="/bloodconnect/38.58f4d889.js" as="script">
<link rel="preload" href="/bloodconnect/ce2a1ceb.93f56e41.js" as="script">
<link rel="preload" href="/bloodconnect/5571f181.4d959255.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=window.matchMedia("(prefers-color-scheme: dark)"),n=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==n?t(n):e.matches&&t("dark")}()</script><div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/bloodconnect/"><img class="navbar__logo" src="/bloodconnect/img/logo.png" alt="BloodConnect Logo"><strong class="navbar__title">BloodConnect</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/bloodconnect/docs/">Docs</a><a class="navbar__item navbar__link" href="/bloodconnect/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/bloodwork-nus/bloodconnect-api" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">API</a><a href="https://github.com/bloodwork-nus/bloodconnect" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_1gtM"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_keGJ moon_1gwN"></span></div><div class="react-toggle-track-x"><span class="toggle_keGJ sun_3CPA"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/bloodconnect/"><img class="navbar__logo" src="/bloodconnect/img/logo.png" alt="BloodConnect Logo"><strong class="navbar__title">BloodConnect</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/bloodconnect/docs/">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/bloodconnect/blog">Blog</a></li><li class="menu__list-item"><a href="https://github.com/bloodwork-nus/bloodconnect-api" target="_blank" rel="noopener noreferrer" class="menu__link">API</a></li><li class="menu__list-item"><a href="https://github.com/bloodwork-nus/bloodconnect" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1kjD"><div class="docSidebarContainer_1cYp"><div class="sidebar_1kLs"><div class="menu menu--responsive menu_w2sC"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_2vk4" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Guides</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/bloodconnect/docs/userguide">User&#x27;s Guide</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/bloodconnect/docs/devguide">Developer&#x27;s Guide</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Milestones</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/bloodconnect/docs/milestone1">Milestone 1</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/bloodconnect/docs/milestone2">Milestone 2</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/bloodconnect/docs/milestone3">Milestone 3</a></li></ul></li></ul></div></div></div><main class="docMainContainer_FFX1"><div class="container padding-vert--lg docItemWrapper_1cc7"><div class="row"><div class="col docItemCol_2GOA"><div class="docItemContainer_2cwg"><article><header><h1 class="docTitle_1vWb">Milestone 3 üß™</h1></header><div class="markdown"><p>Proposed level of achievement: <strong>Artemis</strong>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="whats-new"></a>What&#x27;s new?<a aria-hidden="true" tabindex="-1" class="hash-link" href="#whats-new" title="Direct link to heading">#</a></h2><p>Milestone 3 brings exciting new features and many under-the-hood stability patches that improves overall user experience, and leverages BloodConnect
from a minimum viable product in Milestone 2 to a more polished, completed product.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="smart-search"></a>Smart search<a aria-hidden="true" tabindex="-1" class="hash-link" href="#smart-search" title="Direct link to heading">#</a></h3><p>The long waited smart search is finally here! Users will now be able to search through blood groups, location names, addresses, and request types
(blood, plasma, or platelets) from the search box and the best part: <strong>it just works</strong>! There are no categorisations or additional buttons to
control the search‚Äîthe search algorithm will be able to determine the search category based on the search keywords. The search algorithm is
also designed to be performant, and does not overload the CPU&#x27;s stack frame despite its capabilities.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="over-the-air-updates"></a>Over-the-air updates<a aria-hidden="true" tabindex="-1" class="hash-link" href="#over-the-air-updates" title="Direct link to heading">#</a></h3><p>Users will receive OTA updates, even without manually updating BloodConnect from the App Store or Play Store (if it is to be released). Once a
bugfix or changes are deployed by the developers, all BloodConnect instances will automatically fetch and install the updates the next time the app
is launched. For breaking changes, OTA updates will not automatically be installed, instead, will require the users to update manually from
App Store or Play Store.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="realtime-database-single-source-of-truth"></a>Realtime database: Single source of truth<a aria-hidden="true" tabindex="-1" class="hash-link" href="#realtime-database-single-source-of-truth" title="Direct link to heading">#</a></h3><p><a href="/bloodconnect/docs/milestone2#requests-and-donations-%F0%9F%A9%B8">Realtime database synchronisation was introduced in Milestone 2</a> and it was the main highlight
of BloodConnect&#x27;s aim to provide accurate information fast. In Milestone 3, we have refactored how realtime database synchronisation is structured
with a hierarchical &quot;single source of truth&quot; and event listeners subscribing to changes fetched from the servers. This structure avoids
redundant database queries, which saves servers cost, CPU performance, and improves overall UI stability. In addition, realtime changes can now be
seen not only in the Requests sheet, but also in the map view, Manage requests, location cards, donation buttons, and View donors page. With this
new structure, UI performance has seen a great boost and it will also be very easy to create new components which consume realtime database
synchronisation.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="compatible-blood-groups-filtering"></a>Compatible blood groups filtering<a aria-hidden="true" tabindex="-1" class="hash-link" href="#compatible-blood-groups-filtering" title="Direct link to heading">#</a></h3><p>Donors will now be able to see if they are compatible for a request from the new &quot;Compatible blood groups&quot; badges on every location cards. In
addition, the blood group selection control in Donate screen now only views compatible blood groups. This will make it easier for donors to respond
to a request, and also for blood seekers to find potential donors, as they are guaranteed that those who respond should be compatible.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="general-improvements"></a>General improvements<a aria-hidden="true" tabindex="-1" class="hash-link" href="#general-improvements" title="Direct link to heading">#</a></h3><p>BloodConnect&#x27;s code base has been upgraded to Expo SDK 38 and React Native 0.62. BloodConnect package size has greatly reduced by feeding on more
built-in modules. UI components have also been refactored, and we have removed 5 redundant UI components while retaining the same good user
interface. UI components are now more responsive, thanks to the new SDK and better structuring. Buttons are also now not susceptible to multiple
invocations, so one tap at a time!</p><p>User authentication storage is now properly purged on every authentication state change, and BloodConnect is able to maintain authentication state
persistence. Previously-entered user credentials are removed and navigation stacks are reset every time the state of the app changes.</p><div class="admonition admonition-important alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>important</h5></div><div class="admonition-content"><p>The <a href="https://nvd.nist.gov/vuln/detail/CVE-2020-8149" target="_blank" rel="noopener noreferrer">CVE-2020-8149</a> vulnerability involving <code>logkitty</code> version &lt; 0.7.1
which allows arbitrary shell commands execution, were patched as of Milestone 3. Similarly, the recently released
<a href="https://nvd.nist.gov/vuln/detail/CVE-2020-8203" target="_blank" rel="noopener noreferrer">CVE-2020-8203</a> involving <code>lodash</code> version &lt; 4.17.15 was also patched in Milestone 3.</p></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="testing"></a>Testing<a aria-hidden="true" tabindex="-1" class="hash-link" href="#testing" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="authorisation"></a>Authorisation<a aria-hidden="true" tabindex="-1" class="hash-link" href="#authorisation" title="Direct link to heading">#</a></h3><ul><li><p><strong>Creating an account</strong>. We created a user account with a full name, email address, and password. As expected, the user was logged in and
a verification email was sent. There was an issue whereby the authentication state was mutated and caused mix-ups and verification emails be sent
to other users, and replaces the previous users&#x27; details.
<a href="https://github.com/bloodwork-nus/bloodconnect/commit/1358d7b6b21740986a3a78524ff9e9c24638abfc" target="_blank" rel="noopener noreferrer">This issue has been fixed</a>.</p></li><li><p><strong>Logging in</strong>. We logged in with correct credentials, and the login was successful and the user&#x27;s requests and details were correctly retrieved.
Logging in with wrong credentials will lead to an error message, as expected.</p></li><li><p><strong>Logging out</strong>. Upon logging out, we tried accessing screens which requires an authorised state, and the request failed, as expected. However,
it was known that when logging in with a user (e.g. Alice), logging out, and logging in with another user (e.g. Bob), some screens were not
re-rendered, leading to the old user&#x27;s (Alice&#x27;s) data being displayed. This issue can simply be resolved by ensuring proper purging after a logout
and re-rendering screens after a successful login. We will create a service to perform these tasks, and deliver it in Milestone 3.</p></li><li><p><strong>Creating an account with used email address</strong> led to an error. Passwords must also be at least 6 characters, as expected.</p></li><li><p><strong>Exiting an app after logging in</strong> redirects user back to the Explore screen. If the user has signed out, the login screen is fresh, and tapping
on back does not bring the user back to the Explore screen. The authentication state is fully purged after a sign-out and properly stored after a
sign-in, all as expected.</p></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="requests-and-donations"></a>Requests and donations<a aria-hidden="true" tabindex="-1" class="hash-link" href="#requests-and-donations" title="Direct link to heading">#</a></h3><ul><li><p><strong>Donating to a request when it suddenly is closed elsewhere</strong>.
This is one of a corner case, and when tapping on Submit, nothing
happened. As expected, since the request status is not <code>OPEN</code>, the
app returned an error log to the console. Now, instead of logging,
the app will redirect users to a &quot;Whoops!&quot; screen which tells the
user that the request has been closed and returns the user back to
the Explore screen. <a href="https://github.com/bloodwork-nus/bloodconnect/commit/f3edf6e03f8cb4f07d46a59ecf31f3b3cf71b952" target="_blank" rel="noopener noreferrer">This issue has been fixed</a>.</p></li><li><p><strong>Completing a request and returning back to Explore</strong>. If a user
is viewing the location card of their own request and completes it,
it was found that the location card was not dismissed, allowing the
user to view the donors (if any) again and complete the request with
another user. This is due to the fact that after completing a
request, the navigation stack is popped only. Now, every time this
happens, instead of popping the navigation stack, BloodConnect resets
the whole navigation state. This is also one of a corner case, and <a href="https://github.com/bloodwork-nus/bloodconnect/commit/5d38579c1a45f7baf232a6c9af2e5af111fbd277" target="_blank" rel="noopener noreferrer">has been fixed</a>.</p></li><li><p><strong>Closing a request and returning back to Explore</strong>. Same as above,
but was only realised recently, and can simply be fixed with the
same solution as above.</p></li><li><p><strong>Opening a request details and using another device, completing it</strong>, simulating someone completing a request while the other is viewing. The marker on the map disappeared, while the location card
persists. This can be fixed by subscribing the location card
visibility property to the realtime database event listener.</p></li><li><p><strong>Using long donor contact name</strong> pushes the request controls to
the right, making the Call and Complete button not contained in
the viewport. <a href="https://github.com/bloodwork-nus/bloodconnect/commit/cc2ed94c35e255d50ef5d685097835c5efc5a7cf" target="_blank" rel="noopener noreferrer">This issue has been fixed</a>.</p></li><li><p><strong>Choosing &quot;Other blood groups&quot; in New Request screen and not specifying anything in the description</strong>. We tested this behaviour,
and it was &quot;allowed&quot;. So, we added a validator to ensure blood
seekers remember to provide a description when specifying &quot;Other
blood type&quot;. <a href="https://github.com/bloodwork-nus/bloodconnect/commit/5979280c2a0fd0b3ffaba96f52d8cfdb7b9d561a" target="_blank" rel="noopener noreferrer">This issue has been addressed</a>.</p></li><li><p><strong>Blood type was uppercased in review request screen</strong> due to the use of same fields for <code>id</code> and <code>label</code> in Milestone 2. In Milestone 3, instead
of a static string for blood types, we use a blood type <strong>object</strong> which is flexible and thus, we can show cleaner information in the Review
request screen. <a href="https://github.com/bloodwork-nus/bloodconnect/commit/d5de0c4d352737f69d979c95d50201734612a80f" target="_blank" rel="noopener noreferrer">This issue was addressed here</a> and
<a href="https://github.com/bloodwork-nus/bloodconnect/commit/9109944f9ee9d54bf36002f03a5fd84c2c79b9f6" target="_blank" rel="noopener noreferrer">here</a>.</p></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="manage-requests-screen"></a>Manage requests screen<a aria-hidden="true" tabindex="-1" class="hash-link" href="#manage-requests-screen" title="Direct link to heading">#</a></h3><ul><li><strong>While opening the view donors screen, remove all the donors from the database</strong>. The app would crash. And so, if the number of donors reduce
to zero for a particular request, the view donors screen will just go back to the previous navigation stack.
<a href="https://github.com/bloodwork-nus/bloodconnect/commit/3af76cbf67511d089ee224e17dc5b4bac7fee059" target="_blank" rel="noopener noreferrer">This issue was addressed here</a>.</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="user-testing"></a>User testing<a aria-hidden="true" tabindex="-1" class="hash-link" href="#user-testing" title="Direct link to heading">#</a></h2><p>We tested BloodConnect with a select group of testers. Each user is given a unique Reserved Testing Account (RTA) that ends in <code>@test.bloodwork.org</code>
and is given a set of tasks to complete. The tasks were completed in the expected period of time (creating a request and donating to a request,
each takes on average 3 minutes and 12 seconds). The reception towards the user interface design was very satisfactory, with majority categorising
it as &quot;modern&quot;, &quot;fresh&quot; and &quot;easy-to-use&quot;. The users were not given any instructions, and were left to their own devices to navigate through the UI
and complete the tasks. Here are their selected feedback.</p><ul><li><p><strong>Add a time range to a request to add another criteria of &quot;importance&quot;</strong>. This is a good suggestion, and in fact, was one of the intended
feature in Milestone 1. We will implement this post-milestone 3.</p></li><li><p><strong>Show the list of compatible blood groups</strong>. This is a very good suggestion, and in fact has been implemented <a href="https://github.com/bloodwork-nus/bloodconnect/commit/ef41ef910a870b75a7c82f900b614baeca5e2c13" target="_blank" rel="noopener noreferrer">as of this commit</a>.</p></li><li><p><strong>A confirmation screen after a requester completes a request</strong>. This is also a very good suggestion, and together with other &quot;corner-case&quot; fixes,
<a href="https://github.com/bloodwork-nus/bloodconnect/commit/5d38579c1a45f7baf232a6c9af2e5af111fbd277" target="_blank" rel="noopener noreferrer">was implemented as of this commit</a>.</p></li><li><p><strong>App crashed when viewing details of a request with Other blood group</strong>. This is a recently new development. We will continue to investigate this
issue.</p></li><li><p><strong>Closing request in Manage request does not dismiss the location card</strong>. As mentioned in above Testing, we were well aware will this issue, and
will apply the patches post-milestone 3.</p></li><li><p><strong>Several colours in the UI might not be constrasted enough for people of sight impairment</strong>. This is a very good suggestion, and we will employ
a contrast ratio calculation method to ensure every UI components are properly coloured and constrasted to support the vast majority of users.</p></li><li><p><strong>Tapping on My location button on map does not request for permission and never resolves</strong>. This is a new discovery, as the opposite occurred
during development. We will continue to investigate this issue. Most likely this is an issue with the Google Maps SDK integration.</p></li><li><p><strong>I did not receive any notifications</strong>. Upon further inspection, the push notification token for each user was not properly updated in our
database. We will continue to investigate this issue.</p></li><li><p><strong>App crashed when there are no requests</strong>. This is a recently new development. We will continue to investigate this issue.</p></li><li><p><strong>Tapping on the top half of the New Request button does not trigger the button</strong>. This is a recently new development. We will continue to
investigate this issue.</p></li><li><p><strong>The keyboard is not dismissed when tapping on some UI components</strong>. We found that this issue prevailed on Donate screen.
<a href="https://github.com/bloodwork-nus/bloodconnect/commit/a09d974301403448bd7c2c8233e44481fea3094f" target="_blank" rel="noopener noreferrer">This issue has been fixed</a>, and we will continue
to do testing on other UI components to ensure seamless user interaction when the keyboard is open.</p></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="note-on-compilables"></a>Note on compilables<a aria-hidden="true" tabindex="-1" class="hash-link" href="#note-on-compilables" title="Direct link to heading">#</a></h2><p>While it is our desire to deliver compilables for users to try BloodConnect, we cannot release the compiled application packages (i.e. APKs for
Android and IPAs for iOS). This is due to the fact that we used many APIs, many of which are free with limits, or borrowed API keys. We cannot risk
API overuse on our end, so, if you would like to try BloodConnect, we kindly invite you to self-build it by following the instructions
<a href="https://github.com/bloodwork-nus/bloodconnect#building-and-developing" target="_blank" rel="noopener noreferrer">here</a>.</p><div class="admonition admonition-important alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>important</h5></div><div class="admonition-content"><p>For Dr Zhao Jin, any Orbital advisors or mentors, if you are interested in testing BloodConnect, please drop me an email at
<a href="mailto:phillmont@u.nus.edu">phillmont@u.nus.edu</a> and I will check if my current testing API plan can accomodate. I will be very humbled if you
would like to try BloodConnect out :)</p></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="motivation"></a>Motivation<a aria-hidden="true" tabindex="-1" class="hash-link" href="#motivation" title="Direct link to heading">#</a></h2><p>For a country of approximately 5.7 million people, the 75,655 donors in 2019‚Äîapprox. 1.33%‚Äîwas particularly
low.<sup id="fnref-1"><a href="#fn-1" class="footnote-ref">1</a></sup> In fact, in 2019, the Singapore Red Cross and Health Sciences Authority appealed for blood donors as stocks
in blood banks reached low levels.<sup id="fnref-2"><a href="#fn-2" class="footnote-ref">2</a></sup> Approximately 3,000 donors of any types were needed to restore the stocks to a
healthy level. This shortage was grave as the blood group with the greatest extent of shortage was O, the universal group
used in emergencies, particulary when the blood identity of the patient was unknown. The situation is exacerbated by
the fact that the number of young donors is declining at a steady rate, from about 23,000 in 2008 to 18,000 in
2019.<sup id="fnref-1"><a href="#fn-1" class="footnote-ref">1</a></sup><sup>,</sup><sup id="fnref-3"><a href="#fn-3" class="footnote-ref">3</a></sup> As the population is being increasingly dominated by senior citizens, and the current COVID-19
pandemic progresses, blood donors are needed more than ever.</p><p>When there is a lack of supply for a particular blood type in blood banks or hospital inventories, patients and families
turn to social media to look for blood donors. While this method may reach a myriad of potential donors, it is not
always deterministic. There is also no guarantee that the potential donors are reachable, and this weakness in this
method may be crucial in times of crisis. The Singapore Red Cross and HSA have a database of blood donors which are
contactable when blood supplies are needed. However, this system limits the coverage to only the regular registered
donors. Hence, we propose the development of a platform, <strong>BloodConnect</strong>, to connect blood donors and donees whenever,
wherever. BloodConnect allows users to create blood requests, which are viewable by other users as potential donors.
Nearby users will also be notified. If a user decides to donate to a request, they will be connected to the requester
and arrange a meeting at the hospital of request. Through this platform, we aim to bridge the gap between donors and
donees and decrease the waiting time to find blood, particularly in emergencies.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="aim-of-project"></a>Aim of project<a aria-hidden="true" tabindex="-1" class="hash-link" href="#aim-of-project" title="Direct link to heading">#</a></h2><p>To ensure consistent healthy supply of blood at bloodbanks and bridge the gap between blood donors and blood seekers, we
aim to develop a platform to provide information on blood requests and notify nearby potential donors to reduce the waiting
time for blood donations in emergency situations and encourage young donors through a relevant, digital platform with
the ease to search avenues for blood donations.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="user-stories"></a>User stories<a aria-hidden="true" tabindex="-1" class="hash-link" href="#user-stories" title="Direct link to heading">#</a></h2><ul><li>As a <em>blood donor</em>, I want to be able to see blood requests to which I can donate my blood.</li><li>As a <em>blood donor</em>, I want to be notified when blood donation is required near my location.</li><li>As a <em>blood seeker</em>, I want to be able to create a blood request with my contact details and connect with an eligible donor fast.</li><li>As a <em>blood bank administrator</em>, I want to be able to create a blood request when the blood stocks are running low.</li><li>As a <em>hospital or health institution staff</em>, I want to be able to create a blood request when blood stocks are running
low or my patients requires direct blood transfusion.</li><li>As a <em>research institution staff</em>, I want to be able to create a blood request when I need donors for research
purposes (e.g. recovered COVID-19 donors for vaccine research, etc).</li><li>As an <em>blood donation event organiser</em>, I want to be able to create a blood request inform of my event and increase
participation.</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="scope-of-project"></a>Scope of project<a aria-hidden="true" tabindex="-1" class="hash-link" href="#scope-of-project" title="Direct link to heading">#</a></h2><p>The platform utilises mobile (for Android and iOS) and web applications as the <strong>front-end</strong> interfaces for blood donors
to view and respond to blood requests and blood seekers to create blood requests. The
<a href="http://github.com/bloodwork-nus/bloodconnect" target="_blank" rel="noopener noreferrer">mobile app</a> is being developed with <a href="http://reactnative.dev">React Native</a>
and the web app will be developed with <a href="http://reactjs.org">React</a>.</p><p>A set of <strong>back-end</strong> APIs will be developed for authentication, database, push notifications, and pairing algorithms.
This will be developed with <a href="http://nodejs.org">Node.js</a> and <a href="http://firebase.google.com">Firebase</a> cloud functions.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="mobile-application"></a>Mobile application<a aria-hidden="true" tabindex="-1" class="hash-link" href="#mobile-application" title="Direct link to heading">#</a></h3><p>This app is the main BloodConnect app which enables users to create, view, and respond to blood requests. Registered
users will be able to view their donations/requests history and be notified of nearby blood donations. Users can also
share blood requests to their friends.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="smart-search-1"></a>Smart search<a aria-hidden="true" tabindex="-1" class="hash-link" href="#smart-search-1" title="Direct link to heading">#</a></h3><p>The search function in BloodConnect will be developed to allow searches based on blood type, types of venues, emergency,
time, descriptions, and venue names. In addition, voice search will also be implemented.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="maps"></a>Maps<a aria-hidden="true" tabindex="-1" class="hash-link" href="#maps" title="Direct link to heading">#</a></h3><p>BloodConnect will make use of the Google Maps API (for Android) and Apple Maps (for iOS). The blood requests will appear
on the map and users will be able to tap on the markers to see the details for each requests.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="authentication"></a>Authentication<a aria-hidden="true" tabindex="-1" class="hash-link" href="#authentication" title="Direct link to heading">#</a></h3><p>Using Firebase, BloodConnect allows for user accounts creation. In addition, OAuth will also be implemented to allow
users to create account with existing services, e.g. Google or Facebook accounts.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="push-notifications"></a>Push notifications<a aria-hidden="true" tabindex="-1" class="hash-link" href="#push-notifications" title="Direct link to heading">#</a></h3><p>Nearby donors (registered users) will be notified when a blood request is made requiring their blood type. Users can
opt to be notified of all blood requests, only emergency ones, those coming from specific venues (hospitals or blood banks),
etc.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="other-platforms"></a>Other platforms<a aria-hidden="true" tabindex="-1" class="hash-link" href="#other-platforms" title="Direct link to heading">#</a></h2><p>We did a literature review and there have been similar platforms developed,
such as <a href="http://simplyblood.com">Simply Blood</a>, <a href="http://donor2donor.com/" target="_blank" rel="noopener noreferrer">Donor2Donor</a>, <a href="http://blood4life.id/" target="_blank" rel="noopener noreferrer">Blood4Life.ID</a>, and <a href="https://www.techinasia.com/singapore-red-cross-gamifies-blood-donations-app" target="_blank" rel="noopener noreferrer">Red Cross Connection</a>.</p><ul><li><p><a href="http://simplyblood.com">Simply Blood</a>, developed in 2017<br>
Simply Blood is an Android and web app developed as a platform to connect blood donors
with blood seekers to alleviate blood shortage, wastage, and transfusion waiting time. After inspecting the app,
we saw that it requires <em>all</em> users (donors and seekers) to create
an account with their mobile phone number, which is verified by an SMS OTP. The app also requires blood requesters
to provide their full name, which may be considered a privacy concern, as some users may not want to disclose the
fact that they have medical conditions which require blood transfusion. <strong>With BloodConnect</strong>, we will design a more intuitive UI which not only looks modern and recent, but also easy to use. BloodConnect will only require <em>blood seekers</em>
to register and verify their email address to prevent illegal activities, but allow <em>blood donors</em> to use the app
without registration. However, blood donors can create an account to view their donation history, save their
fitness survey for a set period of time (TBC), and be notified of any nearby blood requests. BloodConnect <strong>will not</strong> require users&#x27; full name for privacy reasons.</p></li><li><p><a href="http://donor2donor.com/" target="_blank" rel="noopener noreferrer">Donor2Donor</a>, developed in 2016<br>
This app takes a different approach towards finding blood donations. First of all, this app also allows for organ
donations, not only blood donations. Secondly, this app allows blood seekers to find available blood donors with
maximum radius of 50 km. This approach is different from BloodConnect&#x27;s, as donors will have to publish their
availability in the platform and blood seekers will choose from a list of available donors. Donor2Donor, despite having
their website written in English, seems to focus on the Indian community, as their ads are mainly in Hindi. We aim
to enable connections in any parts of the world.</p></li><li><p><a href="http://blood4life.id/" target="_blank" rel="noopener noreferrer">Blood4Life.ID</a>, developed in 2009<br>
In 2009, Blood4Life.ID used mailing lists, and shifted to Twitter and Facebook in 2010. In 2019, they developed the
<a href="http://blood4life.id">web application</a> as a more systematic platform. It appears that Blood4Life.ID takes a more
social approach, as their web app contains a lot of posts, events, news, community collaterals, and blood requests
map in between. Also, this platform is only available for the Indonesian community. Its blood donation search
function only &quot;posts&quot; request and donors will have to search and contact the requester directly. <strong>With BloodConnect</strong>,
it will notify nearby users and there is a call-to-action for donors to connect with the requester.</p></li><li><p><a href="https://www.techinasia.com/singapore-red-cross-gamifies-blood-donations-app" target="_blank" rel="noopener noreferrer">Red Cross Connection</a>, developed in 2014<br>
This platform was developed by the Singapore Red Cross as a campaign, and was officially announced in January 2014.<sup id="fnref-4"><a href="#fn-4" class="footnote-ref">4</a></sup>
It shared similarities with BloodConnect, however, it is no longer operational. The app allows users to post the
&quot;number of lives they have saved&quot; and view the &quot;number of blood donations made by their peers&quot;.<sup id="fnref-5"><a href="#fn-5" class="footnote-ref">5</a></sup> We believe that
this feature does not value-add into the problem that the platform was aiming to tackle:
<em>amplifying the search for donors</em>.<sup id="fnref-4"><a href="#fn-4" class="footnote-ref">4</a></sup> Instead, this feature may make blood donation seemed competitive and users can
showcase the &quot;<em>number of lives they have saved</em>&quot;. As a reward, blood donors may scan a QR code at donation sites to view an
AR animation an an appreciation for their &quot;selfless and heroic acts&quot;.<sup id="fnref-6"><a href="#fn-6" class="footnote-ref">6</a></sup> While we agree with the campaign&#x27;s message that
donating blood is a heroic act, the aim of BloodConnect&#x27;s development is not as a campaign, but as a tool to solve the
problem with finding blood. That being said, as of now, we do not plan to take a gamified approach towards blood donation.</p></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="program-flow"></a>Program flow<a aria-hidden="true" tabindex="-1" class="hash-link" href="#program-flow" title="Direct link to heading">#</a></h2><p><img src="https://github.com/bloodwork-nus/bloodconnect-docs/raw/master/static/img/program-flow.svg" alt="Program and user flow diagram"></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="progress-video"></a>Progress video<a aria-hidden="true" tabindex="-1" class="hash-link" href="#progress-video" title="Direct link to heading">#</a></h2><p>If you cannot view the video in the frame below, click <a href="https://youtu.be/6OlWkdTf7wU" target="_blank" rel="noopener noreferrer">here</a> to watch it on YouTube.</p><iframe width="560" height="315" src="https://www.youtube.com/embed/6OlWkdTf7wU" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"></iframe><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="project-poster"></a>Project poster<a aria-hidden="true" tabindex="-1" class="hash-link" href="#project-poster" title="Direct link to heading">#</a></h2><p><a href="https://github.com/bloodwork-nus/bloodconnect-docs/raw/master/static/misc/bloodconnect-poster-20200601.pdf">Click here to view the poster.</a></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="project-log"></a>Project log<a aria-hidden="true" tabindex="-1" class="hash-link" href="#project-log" title="Direct link to heading">#</a></h2><table><thead><tr><th>No</th><th>Task</th><th>Date</th><th>Phillmont (hours)</th><th>Ivan (hours)</th><th>Remarks</th></tr></thead><tbody><tr><td>1</td><td>Milestone 2 peer review</td><td>Jun 8</td><td></td><td>8</td><td></td></tr><tr><td>2</td><td>Meetings with Gerald and Leslie on Milestone 2</td><td>Jul 1, 5</td><td>3</td><td>3</td><td>Discussed about what to expect for Milestone 3, UI and layout improvements, feedback on user flow, and guides for developing a comprehensive user testing.</td></tr><tr><td>3</td><td>Applying bugfixes from Milestone 2</td><td>Jul 6-12</td><td>30</td><td></td><td><a href="http://localhost:3000/bloodconnect/docs/milestone2#testing" target="_blank" rel="noopener noreferrer">See the fixes promised in Milestone 2 here</a>.</td></tr><tr><td>4</td><td>Upgrading code base</td><td>Jul 14</td><td>10</td><td></td><td>Upgraded to Expo SDK 38 and React Native 0.62, deprecated and vulnerable packages, and resolved breaking changes.</td></tr><tr><td>5</td><td>Refactoring UI components</td><td>Jul 15</td><td>20</td><td></td><td>Designed a new (but ultimately rejected) Button component, combined several components, removed redundant components, fixed <code>Touchable</code> responsiveness issues with SDK 38, etc.</td></tr><tr><td>6</td><td>Restructuring realtime database synchronisation and auth persistence</td><td>Jul 16-17</td><td>40</td><td></td><td>Difficult due to Expo&#x27;s compatibility issues with native Firebase, so use only Firebase JS. Fixed event listeners unsubscription (infinite async calls), migrate local storage to <code>AsyncStorage</code>, fixed Firebase authentication persistence to allow storing authentication state, etc.</td></tr><tr><td>7</td><td>Developed Smart search</td><td>Jul 18</td><td>10</td><td></td><td></td></tr><tr><td>8</td><td>User testing: Phase 1</td><td>Jul 20-23</td><td>25</td><td></td><td></td></tr><tr><td>9</td><td>Applying user feedback from Phase 1</td><td>Jul 25</td><td>10</td><td></td><td></td></tr><tr><td></td><td><strong>Total hours</strong></td><td></td><td>148</td><td>11</td><td></td></tr></tbody></table><p>Total hours spent by both Orbitees: 148 + 11 = <strong>159 hours</strong>.</p><div class="footnotes"><hr><ol><li id="fn-1"><a href="https://www.hsa.gov.sg/blood-donation/blood-facts-and-figures" target="_blank" rel="noopener noreferrer">https://www.hsa.gov.sg/blood-donation/blood-facts-and-figures</a><a href="#fnref-1" class="footnote-backref">‚Ü©</a></li><li id="fn-2"><a href="https://www.straitstimes.com/singapore/3000-blood-donors-needed-as-stocks-run-low" target="_blank" rel="noopener noreferrer">https://www.straitstimes.com/singapore/3000-blood-donors-needed-as-stocks-run-low</a><a href="#fnref-2" class="footnote-backref">‚Ü©</a></li><li id="fn-3"><a href="https://www.tnp.sg/news/singapore/singapore-red-cross-concerned-over-lack-young-blood-donors" target="_blank" rel="noopener noreferrer">https://www.tnp.sg/news/singapore/singapore-red-cross-concerned-over-lack-young-blood-donors</a><a href="#fnref-3" class="footnote-backref">‚Ü©</a></li><li id="fn-4"><a href="https://www.campaignasia.com/agencyportfolio/casestudy/200,red-cross-connection.aspx#.XtIaHjoza00">https://www.campaignasia.com/agencyportfolio/casestudy/200,red-cross-connection.aspx#.XtIaHjoza00</a><a href="#fnref-4" class="footnote-backref">‚Ü©</a></li><li id="fn-5"><a href="https://www.todayonline.com/singapore/singapore-red-cross-launches-mobile-app-blood-donation" target="_blank" rel="noopener noreferrer">https://www.todayonline.com/singapore/singapore-red-cross-launches-mobile-app-blood-donation</a><a href="#fnref-5" class="footnote-backref">‚Ü©</a></li><li id="fn-6"><a href="https://www.techinasia.com/singapore-red-cross-gamifies-blood-donations-app" target="_blank" rel="noopener noreferrer">https://www.techinasia.com/singapore-red-cross-gamifies-blood-donations-app</a><a href="#fnref-6" class="footnote-backref">‚Ü©</a></li></ol></div></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/bloodwork-nus/bloodconnect-docs/edit/master/docs/milestone3.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/bloodconnect/docs/milestone2"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">¬´ Milestone 2 üõ†Ô∏è</div></a></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_TbNY"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#whats-new" class="table-of-contents__link">What&#39;s new?</a><ul><li><a href="#smart-search" class="table-of-contents__link">Smart search</a></li><li><a href="#over-the-air-updates" class="table-of-contents__link">Over-the-air updates</a></li><li><a href="#realtime-database-single-source-of-truth" class="table-of-contents__link">Realtime database: Single source of truth</a></li><li><a href="#compatible-blood-groups-filtering" class="table-of-contents__link">Compatible blood groups filtering</a></li><li><a href="#general-improvements" class="table-of-contents__link">General improvements</a></li></ul></li><li><a href="#testing" class="table-of-contents__link">Testing</a><ul><li><a href="#authorisation" class="table-of-contents__link">Authorisation</a></li><li><a href="#requests-and-donations" class="table-of-contents__link">Requests and donations</a></li><li><a href="#manage-requests-screen" class="table-of-contents__link">Manage requests screen</a></li></ul></li><li><a href="#user-testing" class="table-of-contents__link">User testing</a></li><li><a href="#note-on-compilables" class="table-of-contents__link">Note on compilables</a></li><li><a href="#motivation" class="table-of-contents__link">Motivation</a></li><li><a href="#aim-of-project" class="table-of-contents__link">Aim of project</a></li><li><a href="#user-stories" class="table-of-contents__link">User stories</a></li><li><a href="#scope-of-project" class="table-of-contents__link">Scope of project</a><ul><li><a href="#mobile-application" class="table-of-contents__link">Mobile application</a></li><li><a href="#smart-search-1" class="table-of-contents__link">Smart search</a></li><li><a href="#maps" class="table-of-contents__link">Maps</a></li><li><a href="#authentication" class="table-of-contents__link">Authentication</a></li><li><a href="#push-notifications" class="table-of-contents__link">Push notifications</a></li></ul></li><li><a href="#other-platforms" class="table-of-contents__link">Other platforms</a></li><li><a href="#program-flow" class="table-of-contents__link">Program flow</a></li><li><a href="#progress-video" class="table-of-contents__link">Progress video</a></li><li><a href="#project-poster" class="table-of-contents__link">Project poster</a></li><li><a href="#project-log" class="table-of-contents__link">Project log</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/bloodconnect/docs/">Style Guide</a></li><li class="footer__item"><a class="footer__link-item" href="/bloodconnect/docs/doc2/">Second Doc</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow</a></li><li class="footer__item"><a href="https://discordapp.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li><li class="footer__item"><a href="https://twitter.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/bloodconnect/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/bloodwork-nus/bloodconnect" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="text--center"><div><p>BloodConnect is a project by Bloodwork for NUS Orbital 2020.</p></div></div></div></footer></div>
<script src="/bloodconnect/styles.6448a0d5.js"></script>
<script src="/bloodconnect/runtime~main.093f618e.js"></script>
<script src="/bloodconnect/main.08a9c377.js"></script>
<script src="/bloodconnect/1.1cc098a1.js"></script>
<script src="/bloodconnect/2.cdfd68ac.js"></script>
<script src="/bloodconnect/3.cc91e6c0.js"></script>
<script src="/bloodconnect/1be78505.1e868fb6.js"></script>
<script src="/bloodconnect/38.58f4d889.js"></script>
<script src="/bloodconnect/ce2a1ceb.93f56e41.js"></script>
<script src="/bloodconnect/5571f181.4d959255.js"></script>
</body>
</html>